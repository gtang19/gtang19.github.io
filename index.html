<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <style>
    img {
      width:5%;
    }
  </style>
</head>
<body>
  <h1>This is a test</h1>
  <img src="beepis.jpg">
  <script>
    $(function(){
      $("img").click(function(){
        var state = 1;
        var $x = $(this);
        doThing();

        function doThing(){
          $x.slideToggle(1000,doThing);
          if (state == 1){
            $x.hide();
          }
          $x.before("<img src='beepis.jpg'>");
        }

      });
    });

  </script>
</body>
</html>
